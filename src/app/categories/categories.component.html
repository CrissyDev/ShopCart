<div class="carousel-container py-5">
  <h2 class="text-center fw-bold display-5 mb-5">LATEST CATEGORIES</h2>
  <div class="carousel-3d">
    <div
      class="carousel-card"
      *ngFor="let category of categories; let i = index"
      [class.active]="i === activeIndex"
      [style.transform]="'rotateY(' + ((i - activeIndex) * 60) + 'deg) translateZ(300px)'"
    >
      <div
        class="card-inner"
        [style.backgroundImage]="'url(' + category.image + ')'"
        [routerLink]="['/products']"
        [queryParams]="{ category: category.name }"
      >
        <div class="card-label">
          <span class="category-title">{{ category.name }}</span>
          <button class="arrow-btn" (click)="nextSlide(); $event.stopPropagation()">
            <i class="fas fa-arrow-right"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="carousel-controls">
    <button (click)="prevSlide()"><i class="fas fa-arrow-left"></i></button>
    <button (click)="nextSlide()"><i class="fas fa-arrow-right"></i></button>
  </div>
</div>

<div class="container py-4">
  <h2 class="mb-4">Popular Categories</h2>
  <div class="row g-4">
    <div
      class="col-12 col-sm-6 col-md-4"
      *ngFor="let category of categories"
    >
      <a
        [routerLink]="['/products']"
        [queryParams]="{ category: category.name }"
        class="category-card d-flex align-items-center justify-content-between shadow-sm p-3 rounded text-decoration-none bg-white"
      >
        <div class="d-flex align-items-center gap-3">
          <img [src]="category.image" alt="{{ category.name }}" width="50" height="50" class="rounded-circle object-fit-cover" />
          <div>
            <h6 class="mb-0 text-capitalize fw-semibold">{{ category.name }}</h6>
            <small class="text-muted">{{ category.count }} Item Available</small>
          </div>
        </div>
        <i class="fas fa-angle-right text-muted"></i>
      </a>
    </div>
  </div>
</div>
